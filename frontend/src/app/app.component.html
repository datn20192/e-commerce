<app-header  
  [navbarBrandRouterLink]="['/']"
  [fixed]="true"
  [navbarBrandFull]="{src: 'assets/img/brand/logo.svg', width: 89, height: 25, alt: 'E-Commerce'}"
  [navbarBrandMinimized]="{src: 'assets/img/brand/sygnet.svg', width: 30, height: 30, alt: 'E-Commerce'}"
  [sidebarToggler]="'lg'"
  [asideMenuToggler]="'lg'"
>  
  <div class="search-container nav navbar-nav d-md-down-none">
      <form (ngSubmit)="submit()" class="form-inline">
      <input type="text" class="form-control" placeholder="Nhập tên sản phẩm.." name="search">
      <button type="submit" class="btn btn-square btn-secondary"><i class="fa fa-search"></i>Tìm kiếm</button>
      </form>
  </div>
  <ul class="nav navbar-nav ml-auto" *ngIf="!(auth.userData) && !(auth.isLoggedIn)">             
    <li class="nav-item d-md-down-none">
      <a data-toggle="modal" (click)="openModal(signInModal)" (click)="false" class="nav-link" href="#" ><i class="icon-user icons font-2xl"></i><span>Đăng nhập</span></a>
      <ng-template #signInModal>
          <div class="modal-header">
          <h4 class="modal-title pull-left">Đăng nhập</h4>
          <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
              <span aria-hidden="true">&times;</span>
          </button>
          </div>
          <div class="modal-body">
          <app-signin (onClick)="modalRef.hide()"></app-signin>
          </div>
      </ng-template>
    </li>
    <li class="nav-item d-md-down-none" data-dismiss="modal">
      <a data-toggle="modal" (click)="openModal(signUpModal)" (click)="false" class="nav-link" href><i class="icon-user-follow icons font-2xl"></i><span>Đăng ký</span></a>      
      <ng-template #signUpModal>
          <div class="modal-header">
          <h4 class="modal-title pull-left">Đăng ký</h4>
          <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
              <span aria-hidden="true">&times;</span>
          </button>
          </div>
          <div class="modal-body">
          <app-signup (onClose)="modalRef.hide()"></app-signup>
          </div>
      </ng-template>
    </li> 
  </ul>

  <ul class="nav navbar-nav ml-auto" *ngIf="(auth.userData) && (auth.isLoggedIn)">
      <li class="nav-item d-md-down-none" *ngIf="!(auth.isAdmin)">
      <a class="nav-link" href="#"><i class="icon-location-pin font-2xl"></i><span>Theo dõi đơn hàng</span></a>
      </li>
      <li class="nav-item d-md-down-none" *ngIf="!(auth.isAdmin)">
      <a class="nav-link" routerLink="/checkout/cart">
          <i class="icon-basket font-2xl"></i>          
          <span>Giỏ hàng</span>      
          <span class="badge-pill badge-danger">{{icService.lengthCart}}</span>
      </a>             
      <li class="nav-item d-md-down-none" *ngIf="auth.isAdmin">
      <a class="nav-link" href="#"><i class="fa fa-line-chart font-2xl"></i><span>Thống kê</span></a>
      </li>
      <li class="nav-item d-md-down-none" *ngIf="(auth.isAdmin)">
      <a class="nav-link" href="#">
          <i class="fa fa-table font-2xl"></i>          
          <span>Danh sách KH</span>      
          <span class="badge-pill badge-danger">5</span>
      </a>
      </li>      
      <li class="nav-item dropdown" dropdown placement="bottom right">
      <a class="nav-link" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" dropdownToggle (click)="false">
          <img src="{{ !auth.userData.photoURL ? auth.defaultURL : auth.userData.photoURL }}" width="40"
          height="40" class="rounded-circle" alt="user-image"/>
          <b style="color: blue;">
          {{auth.userData.displayName === null ? auth.userData.email.split('@')[0] : auth.userData.displayName }}
          </b>
      </a>
      <div class="dropdown-menu dropdown-menu-right" *dropdownMenu aria-labelledby="simple-dropdown">
          <div class="dropdown-header text-center"><strong>Account</strong></div>
          <a class="dropdown-item" href="#"><i class="fa fa-bell-o"></i> Updates<span class="badge badge-info">42</span></a>
          <a class="dropdown-item" href="#"><i class="fa fa-envelope-o"></i> Messages<span class="badge badge-success">42</span></a>
          
          <div class="divider"></div>
          <a class="dropdown-item" href="#"><i class="fa fa-shield"></i> Lock account</a>
          <a (click)="false" (click)="auth.signOut()" class="dropdown-item" href><i class="fa fa-lock"></i> Logout</a>
          </div>
      </li>        
  </ul>     
</app-header>
<div class="app-body">
  <app-sidebar class="sidebar bg-light" #appSidebar [fixed]="true" [display]="'lg'" [minimized]="sidebarMinimized" (minimizedChange)="toggleMinimize($event)">
    <app-sidebar-d></app-sidebar-d>
  </app-sidebar>
  <!-- Main content -->
  <main class="main">
    <!-- Breadcrumb -->
    <!-- breaking change 'cui-breadcrumb' -->
    <cui-breadcrumb>
      <!-- Breadcrumb Menu-->
      <li class="breadcrumb-menu d-md-down-none">        
      </li>
    </cui-breadcrumb>    
    <div class="container-fluid">      
      <router-outlet></router-outlet>
    </div><!-- /.container-fluid -->
  </main>
  <app-aside [fixed]="true" [display]="false" [ngClass]="'test'">
    
  </app-aside>
</div>
<app-footer>
  <span><a href="https://coreui.io">CoreUI</a> &copy; 2018 creativeLabs.</span>
  <span class="ml-auto">Powered by <a href="https://coreui.io/angular">CoreUI for Angular</a></span>
</app-footer>

